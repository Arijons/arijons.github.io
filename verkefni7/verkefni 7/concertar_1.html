<!DOCTYPE html>
<html>
<head>
<link rel = "stylesheet" type = "text/css" href = "css/listar.css" />
</head> 
<body> 
  <h1>Tónleikar</h1>
  <div class="topnav">
      <input type="text" placeholder="Leit:">
  </div>


    <button class="btn active" onclick="filterSelection('kirk')">Kirkjulistahátíð </button>
    <button class="btn" onclick="filterSelection('ton')">Tónleikar</button>
    <button class="btn" onclick="filterSelection('ann')">Annað</button>


  <input type="date" id="frá" placeholder="dagsetning frá">
  <input type="date" id="til" placeholder="dagsetning til">


  <ul id="concertar"></ul>

</div>

<script>
  function createNode(element) {
      return document.createElement(element);
  }

  function append(parent, el) {
    return parent.appendChild(el);
  }

  const ul = document.getElementById('concertar');
  var vigur=[];
  const url = 'https://apis.is/concerts';

  fetch(url)
  .then((resp) => resp.json())
  .then(function(data) {
    concerts = data.results;
    return concerts.map(function(concert) {
      let li = createNode('li'),
          img = createNode('img'),
          span = createNode('span');
      img.src = concert.imageSource;
      span.innerHTML =`${concert.eventDateName} ${concert.dateOfShow}`;
      append(li,img);
      append(li, span);
      append(ul, li);
    });
  })
  .catch(function(error) {
    console.log(error);
  });
  var fyrirSpurn =
  fetch(url)
  .then(function(resp) {
    return resp.json()
  });

  consFyrirsp={"fyrirSpurn":{}};
  Promise.all([fyrirSpurn])
  .then (function(values){
    consFyrirsp["fyrirSpurn"]=values[0];
    return consFyrirsp;
  });
  console.log(consFyrirsp)


</script>

</body>
</html>